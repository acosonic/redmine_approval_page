:css
  input#approver_search {width:100%}
  input#approver_search {
    background: url(../images/magnifier.png) no-repeat 2px 50%; padding-left:20px;
    border:1px solid #9EB1C2; border-radius:3px; height:1.5em; width:95%;
  }
  input#approver_search.ajax-loading {
   background-image: url(../images/loading.gif);
  }

%h3.title= l(:label_approver_plural)

- form = form_remote_tag :url => {:controller => :approval_items, :action => :create, :issue_id => @issue.id}, :method => 'post', :html => {:id => 'new-item-form'} do
  %p
    = label_tag :approver_search, l(:label_user_search)
    = text_field_tag :approver_search, nil
  = observe_field(:approver_search, :frequency => 0.5, :update => :approvers, :method => :get, :before => '$("approver_search").addClassName("ajax-loading")', :complete => '$("approver_search").removeClassName("ajax-loading")', :url => {:controller => :approval_items, :action => :autocomplete_for_user, :issue_id => @issue.id}, :with => 'q')

  #approvers
    = principals_check_box_tags 'approver[user_ids][]', @users

  %p.buttons
    = submit_tag l(:button_add), :name => nil, :onclick => "hideModal(this);"
    = submit_tag l(:button_cancel), :name => nil, :onclick => "hideModal(this);", :type => 'button'
= form if Rails::VERSION::MAJOR >= 3
